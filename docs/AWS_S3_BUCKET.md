# S3 バケットの作成方法（初心者向け）

S3 バケットは「クラウド上のフォルダ」のようなものです。Family Hub のフロントエンド（画面）のファイルをここに置いて、インターネットから見られるようにします。

---

## 手順

### 1. S3 の画面を開く

1. AWS コンソールの画面上部の **「検索」** ボックスをクリック
2. **「S3」** と入力
3. 候補の **「S3」**（オレンジのバケットのアイコン）をクリック

---

### 2. バケットを作成する

1. **「バケットを作成」** ボタンをクリック

---

### 3. バケット名を決める

- **バケット名** に、**世界中でひとつだけ**の名前を入力します。
  - 例: `family-hub-frontend-あなたの名前` や `family-hub-frontend-12345`
  - 使えるのは英小文字・数字・ハイフン（`-`）だけです。
  - 他の人がすでに使っている名前は使えないので、名前の最後に自分の名前や数字を入れるとよいです。

---

### 4. リージョンを選ぶ

- **AWS リージョン** で **「アジアパシフィック (東京) ap-northeast-1」** を選びます。
  - 日本から使う場合は東京がおすすめです。

---

### 5. ブロックパブリックアクセスの設定（重要）

S3 は初期状態では「外から直接見られない」設定になっています。  
Web サイトとして見せるには、**このバケットだけ**「パブリック読み取り」を許可する必要があります。

1. **「ブロックパブリックアクセス」** のところで  
   **「すべてのパブリックアクセスをブロック」** のチェックを **外します**。
2. 警告が出たら「このバケットのパブリックアクセスを許可する」にチェックを入れて了解します。

※ 本番では後から **CloudFront** 経由で配信するので、そのときは「ブロック」をオンに戻すこともできます。まずは「外す」で進めて大丈夫です。

---

### 6. バケットのバージョニング（任意）

- **「バケットのバージョニング」** は **「無効にする」** のままで問題ありません。

---

### 7. 作成する

1. 下までスクロールして **「バケットを作成」** をクリック
2. 一覧に新しいバケットが表示されれば完了です。

---

### 8. バケット名をメモする

- 作成したバケットの **名前** をメモしておきます。
- 後で **IAM のポリシー** や **GitHub Secrets**（`AWS_S3_BUCKET_FRONTEND`）にこの名前を入れます。

---

## 次のステップ（静的サイトとして見せる場合）

このバケットに **フロントのファイルをアップロード** すると、中身は置けますが、そのままでは「サイトのトップページ」として開けません。

- **AWS CLI** や **GitHub Actions** で `frontend/dist` の中身をこのバケットにアップロード
- 本番では **CloudFront** を作成し、この S3 を「オリジン」に指定すると、`https://xxxxx.cloudfront.net` のような URL でサイトにアクセスできます。

CloudFront の作り方は `docs/AWS_DEPLOY.md` の「Step 4: フロントエンドを S3 + CloudFront にデプロイ」を参照してください。
